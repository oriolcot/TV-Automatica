<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta property="og:title" content="MatchDay Hub - Live Sports">
    <meta property="og:description" content="Automated sports schedule for TV and Web.">
    <meta property="og:image" content="https://api.cdn-live.tv/api/v1/team/images/3422.png"> <meta property="og:type" content="website">

    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="https://fav.farm/⚽"> <title>MatchDay Hub</title>
    <style>
        body { background-color: #1a1a1a; color: #e0e0e0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 0; padding: 0; }
        
        /* Navbar */
        .navbar { background-color: #252525; padding: 15px; position: sticky; top: 0; z-index: 1000; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; border-bottom: 1px solid #333; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .nav-btn { text-decoration: none; color: #ccc; font-weight: 700; padding: 8px 16px; border-radius: 20px; background-color: #333; transition: all 0.2s; font-size: 0.85em; text-transform: uppercase; }
        .nav-btn:hover { background-color: #007aff; color: white; }
        
        .container { padding: 30px 15px; max-width: 1200px; margin: 0 auto; min-height: 80vh; }
        
        /* Titles */
        .sport-section { scroll-margin-top: 80px; margin-bottom: 50px; }
        .sport-title { font-size: 1.8em; color: #fff; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; font-weight: 800; text-transform: uppercase; border-left: 5px solid #007aff; padding-left: 15px; }
        
        /* Grid */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 20px; }
        
        /* Cards */
        .card { background-color: #2a2a2a; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); border: 1px solid #333; position: relative; transition: transform 0.2s; }
        .card:hover { transform: translateY(-3px); border-color: #555; }
        
        .live-badge { 
            display: inline-block; background: #ff3b30; color: white; 
            font-size: 0.7em; font-weight: bold; padding: 2px 8px; 
            border-radius: 4px; margin-left: 10px; vertical-align: middle;
            animation: pulse 2s infinite; 
        }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }
        
        .header { display: flex; align-items: center; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #444; }
        
        /* MILLORA 3: El temps el calcularà el JS, així que ocultem si no carrega */
        .time { font-size: 1.1em; font-weight: 800; color: #111; background: #fff; padding: 5px 10px; border-radius: 6px; min-width: 50px; text-align: center;}
        
        .teams { font-size: 1.1em; font-weight: 600; margin-left: 15px; color: #eee; line-height: 1.3; }
        
        .channels { display: flex; flex-wrap: wrap; gap: 8px; }
        .btn { display: flex; align-items: center; text-decoration: none; color: #ddd; background-color: #383838; padding: 8px 14px; border-radius: 8px; font-size: 0.85em; border: 1px solid #444; transition: background 0.2s; }
        .btn:hover { background-color: #007aff; color: white; border-color: #007aff; }
        .flag-img { width: 20px; height: 14px; margin-right: 8px; border-radius: 2px; }
        
        .footer { text-align: center; margin-top: 60px; padding-top: 30px; border-top: 1px solid #333; color: #666; font-size: 0.8em; }
    </style>
</head>
<body>
    <div class="navbar">
        </div>
    
    <div class="container">
        </div>

    <div class="footer">
        MatchDay Hub &bull; Auto-updates every 5 mins <br>
        <span id="last-update"></span>
    </div>

    <script>
        // MILLORA 1: Auto-Refresc cada 5 minuts (300.000 ms)
        setTimeout(() => {
            window.location.reload();
        }, 300000);

        // MILLORA 3: Zona Horària Dinàmica
        // Aquesta funció converteix l'hora UTC (del servidor) a l'hora del teu navegador (TV)
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".time").forEach(el => {
                const utcTime = el.getAttribute("data-utc");
                if (utcTime) {
                    // Creem una data a partir de l'string UTC (afegint 'Z' per forçar UTC)
                    // Format esperat de l'API: "2024-02-01 20:30" -> "2024-02-01T20:30:00Z"
                    const date = new Date(utcTime.replace(" ", "T") + ":00Z");
                    
                    // Si la data és vàlida, la mostrem en format local (HH:MM)
                    if (!isNaN(date)) {
                        el.textContent = date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    }
                }
            });
            
            // Actualitzar footer
            const now = new Date();
            document.getElementById("last-update").textContent = "Last checked: " + now.toLocaleTimeString();
        });
    </script>
</body>
</html>